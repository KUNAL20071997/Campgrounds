var express = require('express');
var app = express();
var bodyParser = require("body-parser");
var mongoose = require("mongoose");

mongoose.connect("mongodb://localhost/camp");


app.use(bodyParser.urlencoded({extended : true}));
app.set("view engine","ejs");


//SCHEMA SETUP

var campgroundSchema = new mongoose.Schema({
    name: String,
    image: String,
    description: String
});

var Campground = mongoose.model("Campground", campgroundSchema);


/*Campground.create(
    {
        name: "Lal tibba",
        image: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSEhURExIWFRUVFxcVFRUYGBcYFhUVFRYXGBcXFRUYHiggGBolGxgXITEhJSkrLi4xGCAzODMsNyktLisBCgoKDg0OGhAQGy0lHiUtLS0tLy4tLS0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLy0tLS0tLS0tLS0tLS0tLf/AABEIALcBEwMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAADAAECBAUGB//EAEEQAAIBAwIDBQUFBgUDBQEAAAECEQADIRIxBEFRBQYiYXETMoGRoUKxwdHwFFJTktLhByNicoIWorIVM0Nj8cL/xAAZAQADAQEBAAAAAAAAAAAAAAAAAQIDBAX/xAAwEQACAgEDBAAEAwkBAAAAAAAAAQIRAxIhMQQTQVEUImHwcYGhBSMyUpGxwdHxFf/aAAwDAQACEQMRAD8A9NRaOooVs0da2swomgq1aWgotW7QqWy0gqrTmnFMazLQ1KlSplCpUqVACpUqVACp6anoAVKlSoAcU9NTikIG5qBozUJqqyaBMtDYUUmgsaLFQNhQ2Wi1E07CgDVBqOwobCixUAIobCjstCZadktAiKgRRStRK1Vk0V2FCZatFaGwpqRLiU2WgXFq8y0BxWimZuBnlKVWitKr1kds6VLdWEShIaMrVx2d1BkSrFtaDbajq1KykgtMacGmNIY1KlSpjFSpUqAFSpUqAFT01KgB6VKlQA9OKYU9JiGNDYUQmgsaVgDahMKMTQmenYAytQIohaoMaLFQM1EmnY0OiwHNDapGomixUQNQIqZNRaixUDIoZWiE1A07FQJhQXFWGoL1SkS4gNNPTkUqeoWk3ENHQ1XT1oy+tY2bllHoqvVUGiK1FgXbb1OqiPRleixhaVMDT01IBqVPSpgNSpUqYCp6VKlYCpUqU0nIB6ZmqJahu9RYUOz0Jnpi1DZqVjoRNRLUxaoFqLCiReoFqiWqJaixUOxqBNMWqJNFhQ5aok001EmiwocmoMaRNQJp2IZjQyakxqBNFiaIE0NjU2obVSYqITSpqVPUI11NFVqrKaKprKzQsKaIpqupogaix0WVaircqmGqQeix0X1uUQNVBblFW5SsKLYNPNV1uVNXp2Kgs0pqIrE73doNasgIYa4dM8wsHUR9BPnTsRduds2VurZL+JumVB5AnkTWhXkkV0XYXeN7ZCXCXQkCSfEk85O48jQ0xWdwTQ2akzgiQZByCNiPKgs1TZaRJmoZNQZqgxpWOiTGoFqiWqBNFgSLVAtUSagTRYEi1MWqJNRJosCRNRJqM0xNKwHJqJNMTUSaLFQ5NRJpE1EmnYUImoE05NRJp2KiLGhtUzQ2qkSQpU1PTCjVtwRIyOooqiuHHaaWTIuwfLPwIH41Hie92I1ufQBfrg1s+ml4OddVDydze4hEEswX13+A3NZZ7f8AFhJXrMN61w9zt+fdXJ5sZ+g/Oql3jrr7sR6YH0q101ckS6u+D1K12raPMj1B/CaMnG2ztcX4mPvryT2rc3PzNQHpUvpl7KXVP0ewtxlsb3EHqyj8arv27wy730+B1f8AjNeUhqIrVPw/1L+IvwemnvXwo/8AkJ9Fb8qf/q/hhszn0U/jFeaq9TVqXZRSzNnpKd9OHidNz00r/VXPdvdsDiLmoBgoAVQY6kkkcjn6CudQ1asihY0h62yzNMWjlRUt1P2NUIv9j95GsjQylk5Ccr6eXlWke99r+Hc/7fzrmjw1AuWIqe3Fj1tHR8X3uXHs0aZzqAiI2EH9RQX75D+CZ/3fhFc3dWqtyqWKJDyyOhbvk4PuKfLb6yaknfcT4rBA8nk/IqK5NjQ3NX2YejPvT9nc2e+Ng+8rr8AR9DP0rQ4btvh7mFurJ5E6T8mivMGuVEvOKT6eL4Gupl5PXppTXk9ri7iiFuOoHIMQB6QavcP29xK7XmMdYb6kGs/hX4ZfxS8o9KimK1wadvXW95m+DEfSrH/qhIlrziORYz8IOaH0zStsPio+jsiKgRXMnvKbQlzqBIUEqZmCcEROBR7He6w28qehj7zisEk3UWmaLPDzsbpqJqkO2bPMsvqv1kSKMOMQ5Uz6Qfxqu3L0V3YvhhTUTQm4kdDQzxfl9afbkLXEMag1Abiz+79aE/GnoKtYpEvLEsmlVA9oHoPrSquzIXdicQOzb3Kzc/kb8qIvY18//Dc/kb8q3+H78MUR24W6wO729LKB13n4VYHf2wH0mQpWQZ8erOCm0ecn0rX46L9HEui/E55Ow+I5WLv8jflVheweJ/gP8q1OM/xDtKU9musH3xq8a9CABBkcsVsdgd7LPEj3bisBJXQ7DyggZo+Js0XSpeTlv+neJ/gt8x+JqY7t8V/BP8yf1V1nG94SuoJw19ip3NpwrCc6THSCOtXOy+0jeBJs3bcbB1InG4kD7ulJ5mWsETiF7s8V/C/7k/qqa92OK/hj+dP6q9C1UtXl8+dZvLI0jhijhLfdXiT9hf5xV2x3L4o8k/mrsEcz+pzWhwlw/r8az1yZqscUcda7kcRzNv8AmP8ATVr/AKTe2pe5dtqoEkyYHxIrsOL41LVtrtxgqqJJ/LqfKvKO8feO7xr6FBFsHwp+LdT91Z5sqgudx0krZN+2F9potLrUGNeQG9ARI+Pyqj233sJIt2dKIu7KMu3M6tyvTrv0jL4ziktKyKdT4V2GQgaRC9SYIxtWcbY22IxGxmuGeST5Zm9VGxw3elw0XSWQ7n7S/wCpT5dK3DxMEBzKH7QEmPLIBrh7qRXT92bwvWTZb3rW3nbO3yOPSK6+kzb6GTVnYWe7KXUDpxAKn/R9DLYNBudzf/uP8g/qrK7N4+5wryMr9peRH4HzruLXFrcte1TIgkTsDGxjY11ttFaEzlv+j1/jN/KPzobdzV/jN8FH510HZFy89ub6BHLN4NQJAnwgkYmOlHuXlEz8doHSkpsWhHKr3Lt87r/JfyqQ7l2f4lz5r/TXUEdCPh+dNo/vT1y9i7cfRzg7n2B9q581/pqwvdaxzNz+YfgK3Qv6/RrmO8fbz2Xa0hQ6lkMD4rRwsaRucMZPUbxUZM2hapMHGKXBkd5bvDcN/lWlLXPtEsSE8o5t5cufSsvshXvt7hxuxO34fSg8PwmszE53PMnqetbvZXEhSbVuLl2NWmdKIBjU/kOZO2MGRXkZOpyZnX6HPD5p7cGN32slTat8wrOfiQBn/ifnXJPdYfaPoa9I7b7rcRfc3Hu2tWmAolYAkgDHUnJrh+0uBe2xS6hVh5frHmMVvGMsaWpGPUxkp34L3djtxVYWry6lOFmfkMwD9D65rvB2daYa1VYOZz+e9eR3LEfnXd9x+3dX+VcIP70nrgP9wb4Gu/D1Gv5W9x4JJ7M3H7PHQTyx/eoHhj1+QFbj2dx+J++Mc6rPYxByfiYHwroUmdLijDfhzvJ9cUO5bbqfnWxcSIwfhH5zT3OH58/iPlFVqIcDA9m3VvrSrbFj/wCsHzxSp62T2zzbvBwlzhfZ27dxSTI1IwZAoIJOkkZyMEYwASSa63sDguzio9pas3XwXZgD7wkjxIJgztGDXlnD3HNxfHIJggkqTGYMTia6azYKw9swY8WkROBncmNvlyrxXkeHirO1VI9d4R+FtKTbW1bRTB0BQDtnG8Yq1wXaltxOtBlxGqcKTB5bgT8a8tW6+gF1gsAYzPSPn+s1SucUsFSSH5LIBOBuI+tQv2hlb/hQ9MfZ6/wvbFt2K6tBG6sIYeu4+tS4TjFuLOoAksunUJ1KSDE75BM9Irx7gLRZ2BVgTEGdS5GPpy860H4cgBpPwBkRM5B3ol+0JRdNFKFnqF7jFCs2rVonwggNIJGASBuCN+RoltkYSGDAz6YMHy3EV43ct6GJa86ycjx5JPMHbl8xWj3c4jjxlLtllEyHckGJJaCJDCK2h1et8bDUGer27YJienQrvnbb+1XOH4eDJAH185hsD4VzPYvH3XIF57TahIW2zBpDAE6hyBkZ9PKg98+3PY2WVGPiBmSshAYKqZzqbwgc8wMTW3cjVg1Rkd8+3/2m57NGixbOD++3733gDp61z928Qh0DSAMn7TeU8hWXwXaEkFrZ+f8AarXa/aE2wFUr4hqJg+Ebx1MxXnSnqnuyoqPLKndqx7XiNGSFKMfPTmPrXofaXdwXbftGXS5ZFDbGGdQdXXE4rl/8OuzF9s1y4FeW0CRIBa0GnP8AtA+Jr09lQiNKxgxA+HykfOuDqurhDP7pHSlcdzyvt/sS5wxGuCrYV12PkRuD5ffVPsXiPZcQjzAJ0N/tfBn0wfhXe99PZKtoEQCXxEjAGI+NcD2hZQSbeojmpG3ofwrpwdTGSU1scuXFT+U7vjuDxMUux+0n4YlDPszJaBJWFOQNyeUAEnFS7N7Wt/saXrr7jSeZZgSGAG5yJ9DWVd7YuXD/AJdpUHJnksfgpEfM17OXqMcI3JmaOp7MIHCq6sCXAM+8TLELJO5BgT5UHj3hmAMeHUBzxBwCY5knflXnfD98rvDk2Wt2xDkEDUDIY3ARp3HiG9V+0e+l+4pY6ViCv2iQ2+dgZEwBULMtKpDPULXFEKQYnSplSffYSSAcnfA3n6Lu9xD3bZbOCAB8MyTM79a807M75e0YtdUawsGGKTyHhByeXkJp+E/xDZNKoAqKGxuZgwXMTMiZnYmhZt+GJo9QPElFu3H90Andj5aQcjOIFef8Wdbm4+NRmB9wH661c47vKb3D27kMFuMdwdLMsglVkyqznqSKo8NftEyzmepVvy2rj6rJrenwS8evZukD4l2IgeFSQI2wSJk+nKp9j6LfHrYuNAZSTmAdBRwDyIP4VoW+0OHR01XAJ1AHMA6TueQ8zWT7cNx9txBVbj2gZkNrtrkH1CD4VzQzdubqPCu/8G0YQitMTre0+87W2It27joVOQtwsGkR72NvuqxfsW+Ltab5TUogOXUNJPvKRsIzBA8xQ2trtAqVu2vQVj/7UnzC/wAy300XszzTtLgDadlBkKxWRkGCRVXhbxtOtxRkbj95Tup9RXbdp2U9o8lVDQQCQJBAzHQma5ztHs9B4kuJ5rqWfhn6V1wm9prbyeZm6VxdwPS+yOM9taVlAeAvSSCPCTPOMeoNPxbsBA8JzGAQZ2EbzOJHyrzzsTvR+yWLqzuv+W0SASdj/wAs/wDI1b4T/EMtaClfFoOq7KjxycBYKmMbTXprqlV1/wB9GmOWqNnU9iI+gu0EOfaIpAlLb5XVG7c4nExykj7T7Ut2zDMFmfeXn8sRHPyrzbiP8Rr9tjbWCqj2akiGAUaZxucTnH3VRud7hdcNdtjOGZPCwgRKcgYMbZjNXLJOvlRTW561Y4TUoYqM58Vu4G35hWA+lKuS4Hv3ZNtZvrbjGj2LNAUwIbGCADHKYzvSq1NfUmvocVw3ZF8ESpUjlgk88R51ftG8rg+zL5GqUJJHMSMjb6V1HDkDKBmHVQumSdzyG9Wtb6jAMdQOfLB+/wAj5V4k+pbe8UbuG9nPW+EcS7cOFXdRPi297UDKgj5zQP2S69wMNCgHB0zyO5gyIG/KupCHUCNSnSViH07GC3KPlvVe9xSLLAcwRhivhYTkGMgTWKytvZDUKApw1seOVa4OSsx22PliMSaucPxRHiuRBGFgQG2kZ/XxpXrtxvcwZEyuktqmF30j5zmoXLF5xJ6xpBneeken5RWElq5/uVuuEPxfadgZIBcYBaep26jG39qwrnaLOTEFcgeGM+Ujz2rVu93icFd4MSMdZG55/rNDs9jaPCCvMgc55mAfp1Bq4dpLmwesjwXabKAyhrcLkpAHhEnYyAN/wqxaRrwa5eBLM5Pi3mYB36fjVK9Ytoyl1hNXiYnEDJlcwSxPWQDPOit3gsCAXAjkAY+GKueHLKP7tPdicq5DfsQG1Z3a6+Eij3O3+H5XPo39NZvH8fbceG4D5QRn1aqx9FnUrcXt9+SO5G+TU7od4U4e3pe3ec62clE1Y0qFWZ5EE10Z/wAQbW/7PxB5+4o+mryHyrz7srinRPZwuWkz7MnMDBJkbcqvWkLclUczqB+g3qM/RwlNuUX/AFOyOSOnk6HtLvD+2wwtsi2yVAcAMZ0yTmqQWns2lAgbD60SBXPKCjtFUjneS2X+7tgNqtkbSw6AmJ9CY/7K1BwyqI9PymsLs3iRauqxONQn6rJ+DNWh3n7bThl1RqYkhbcjxEfcsxNd+HE8yX6mEm72MTvL2WLzqRCu3gJInHIgnY8v+W+KxeJ7oNKu14AeHkpHI6tOslsdPnQ+I7QvXiHuORH2BIUGeSbHbcyavdk2wxErGIkuQZGIC42xz++tZ3hX7uWy+hvBNclLjOwbatFrUf8AVIM5+EZ++rQ7J4dU16Hc6STtp9AV3JM88V0XBdmgxc0yRhVOwE4mCcyPrU1Kl9yQg6ADXkAEDyBMHyrnfVSuua5LaS3K3CdlIltQJMKImcYkgA+6AScUm4cCrzXMAb1WunrXnPuTbyO6bM3xZkdqWwcdAT8//wAqhwPa1qxbKusv7VbidMAgyecwMc60uNceL5fT+9clx7gOMTGY5Y6/OvQ6SCl8r4JhK5HoN3vNZEaWc4mG9n/5a/w+JonZ/eSxc3a4BzCi3PzZ8bdPlXlt1hGFUfChpviJPQV0ro8XOlWdWpnpvbfGi/d1gCNIUbCQJgwCQvpJrPayDVbsywbdtQ2+59W5fdV0mvLntJ6eDieRXsUH7NVzpYwrYJ9cAnymKzLXZ5dm/wA0ShYMhRzlZUg5knAiMV0UVR7V4tlKMoEMDq3n2qwCTHVdJ+dd3S5Zyi4p7rcz1xUrZzV3u4965qVrZE+IAhIOcQIqA7EuJ4PZkkHVqGidIJk5OcDnjet7h7vDsdTA/wCoqTqyZMmB8pH1rUsJZEm34lzBYkrPKQZJO+TG3Out9TNf8NluzlV7s3B71py3MhQwJ66jvSrrtROTeI8tEDygFDj401T8XP7v/Q7fr9QfB8SFJcHxGANJhoA/1b4nnyrZ4PtO0F9myEzmS/M+Rc7SMeVYNiwiQoBJmVgEBs7EztE9anxV5tQVUJgCfdODJwMT6nyrGSUtkjvey4NX2Jcn2YKg7jcCJyAB0AGZo1js/wAAUnXggT4dMHAIG5ise7xtzBVSn+6J28Wx/WaqLxN2I1mfeJkE5MkSQY5Gub4fJPhpGTUnwjoL/DosNoByYPvR6ycbn+21U+M7QuqNNsCSYJJzAPOZHM5rBb2jkliWkAkGDH/HAmkU0x426xv/AOIPTlW0eje2p2UoPybnBcfe1BrjDSTGBsVknEYnNXXvqxywP7uo5nOfmRWBYvPcnkBvvJnZp6gk4qHE8G2vUA/SJPLfYR57/Cj4VJ8pM2jSLXHcICCx5E4k7mRsSebGuc4zgpJy0kzvM5nGK6ZbQRVa5HhEMCw96GABXBH0rM4iyZMRqbedsmSFHIf3Ga6cM5xdKRlOKZj/APp8nLMPn6VAcDI/9xvWRnJrY/YGnxOqTnkcYEfWgNw/IMZ9N/iJit+7N8SMu2vBSTh2JA9pkwZ3yN6heVsgPPwx8avm1pyC2doONqibZIyDymY/WKtTmnyHbMj2D8o3/X4fWihrwIgkY+y5/tWz7FdIMmBnB3xEjpVjhrILeKSvkBOJIG2xzMGqfVyrfcyeCHox1PEkQXaCIy87+RzFbF5i7m48NHhHkB5Z60biOFQH3iXUTkzE5285OfLFRucCCNchSfLljYjPI8q5snUa41sr+g1iUeCNkLBzviM5MYA+74irXD3SgggNBGGgf+Ww+U1UXs9WUQzjGGzB3269PnV1LLWgB7wJgHBOkbnr05/CuWaT2sqt6Ne09th4WVNY1aQzK4BOmIWQ3rI35ZrJ4q5ess0A6YLiVn/MIO7EeLlB8qa6eIY3AXYTAXGxmRHyipra4g5ZnGw5bdP9W84nfnU4123yvzK0Sl4OcHeniOk+Ytt+dK53qvf6f5G/OtntPgCBABgRlYU5IyBkcunwrB4gMW8KeERDNJLRALHYb1345YZrbHEwlgp1uDud5XbcKRsYVh+jVe7xKsdRTbGCw+lWrgjJAG3OCd5wdhv8qCbYO4ODER9/6++t9Uf5F+v+yVgr2gTcTa5q388f/wA/qKu8H2lYtwRaPrIJ+Bqves5kxkA9SJGOnlmh/swDRvG8g7778t6TjikqlH9WEsLe2pm6e8FvbS8+i/nUh23aPNhy2POuafgPEYmd5nG46DenNrxQAwHLf7ziaxfSdN4T/qSunaOrTte1sXE+jfraoce9q9aYF1BA1g6gPEuVHXIkHH2qxLXCyxaTJXGBEkCAMUZeFLDyMEQPxrJYMMJKUW7KWHe2K1aULIwTJHLOBJ+tEtBww0sZxjlI+/1POrKWDoHrAXr0in9gRkyABGneBBOD54qu6ndm9L0G9pxH7zfO3/QaVV2u3gfC5A5DSfwNKpSj6X3+ROlejoDwlxjAOreAdJMRnA+/zolq4yx4AXYERIJP7o3/AL1X4m9cdAhBhgGnWQDz2mPOZg8s1K0pMLpAYk6WWdQAH2iZAYmIxzrmdndq8InY4XiDpLAqu7KQcHzOImf1NWOJtTBAVSBGJOZgkSdvQVHhbjAOSzMAIaZM/wC4dYxv8+cbfGH352zpIloO+OXPfzpdypbLYpNLkhZtsWCtqLbgkCAYkE59aLf9iinX4ck6mAlzv4QCZxSs9rodzBU+IAgkdMeopDidblUtACBDeEHaRAXJJ/OtrbfoLRG8bKuCbqLqEACAxkCMHzjkM1JOKQYFpnUnDEIBOI8JO3n1FBscCNetVQA7MyiTM7ESfxqxc4YDxwkiQGIJMx55GSPlUOUU1chJsew2vKqqdPAJ+MtAJxiKxLvBMHgMNRMFjtJEz0HoMVedZQTaDTlYBlY8hkCZMeVXFAa2xUudIwILSVG0/UZ+6apSjFcfQTijHXhNgS2vMwYx029PlFV73BZhWMx1x1g/IbGtFBg3I0t7sZJXmSBJ5Z57mg8WXU6vZjHmCx2n3hkZOBWkZtuokNFFbXRScZM/eOuKJaDGVUQR05Dm0UY3Dki14isNIHqYAPMH6mp8OyOoBtKoGynyJj5nzrVz234JpFVCzAxc1R5Kcg5+zHLIxV3hAw98M+czIAAJxEZHT0qrdZEYgNzJgAEz/wATAEfoUxvMACCTBwCcCfMGNvurOUbXyonSr2DGwTdlmMGcnSog6sRIIIMDE8qK3DWzgMRtyGY5Ez6/OqE6Y8OoxGkQSMkmRyzz8op+F4gEgtKkbBRuTAMjY8/XNEoSe62olx3tF+4pAGm4NAwQpOoCcZ5yMHEGOXKjc41dQ8ceWZWM5OPnUiEM51NscDnETmetCuJbDKUVdWQCQST5BTPWOVKOPbcaiW7na5tPpw+JGNifoTyx51q8R2nrQLqGsTIBwIwR4ftYFctf4f2rLcLlW1Fh4TGkRBKkRgiMx8iKsDsshyS8HAWSdOGJzjJJ6ZwTBpTw43Tfg1UmaFlwMg3WLNnIIG28E6R67R89j2SkAMG8JGJ94zz5kHIiJoKWSsKMMQQQpBJ0wTkjqDjYwKtgklVnSNhI3GxhhiYn4g8q5cjWzRaSZTu9mrdIYKUAxnIBHMgGDA6g7/LN4uzYb/LUMSI8WgiTnAkflsa1fCLmoMWg5GNJgGdJBE+vl8ar9p9s21hAhYMSzNIkTBKqxEA9J+s1UZSbpWROMUjMucHGy7gAqxiI2EkRPxzzofs9GABJ22kzmM9a3LHGWXss5kBZDJCkxIILkSN4A5+eao+w9r4lOlRBkDDATJAmYyM+Rq1J72Qsaq7MU3VMAlVgZ2HpDbb/ACp+HXxwdJGklTjJjHrWg/ZpeIAMDbrymTt+tqq/+2PHASCNo5A8sdPpWrlFrYzbS8kPaKIUGTG855T9PuqvaYtAU5WZEbxH6/RqNi9bc6l0yJ1ZO/WAf1FN+zucqRuDAG4aTP0Hz9aFDwJbh/2uMEyFxQ2uj3tTZOx2nyx6ijpw1pxpLAviYHhG+8wfjHz3oD8KwGgoJXZRBkZEzTUYobRL9ob7LmOWRT1AcExyWCf6dJx+t/jSoqPszo2+HuGCUOhVIYEA6hudInYTOSMyPOjX+OdiInwiCrBQxkZx5jmedYlvtZffgjIXbJ2xPMZ60/F9o6oOjPKAZJAGB55+O1ZvG5S3R0bI0rN9mJVdMScE/ZM7QMncTV23xtsEBraA7AhdswN9jznlWDwfFMyqSCgM7iTJ35Yyfxq7wekOzvcIJBAQRJXETIyd/wC+1KWJCarc0A1oBxKwGLeIgGSTHiAkDnsYBonC8aMi3aWVBJYt4cRBC46bQZnzrNucIh9/AEu06VLEGVYqTvH3Y5VTu9qKL0I2pCJkjUW8pPQ4jzqlj1bItSZr3OLuXQUe4qgeIRpADAHBjC7Tgk1Q4UXFUhruveG2UY6Zn+4qce2GrSHQmNiSrZOqQdJkj4deVV+N4YkaVMGInVgL9lgoEA4+vrSjCK24/INT5Ni0LihdFx2iQNhqMQQI54BzPPFN+zOW1OWcEjSASsTkzHLln8qy+ADrBZiVE/a5iWkjcEw3zHnU7XFaixdjmF94kgtIML6Z2G/lQ8bvYpOw13s1nYFLhiPFDE5HIHnHXagXlNoQw1GMyQY5/r4Ue2t4akYlfDIyASciB1qBsMLYyHEzOkAgGBpaTq64mNuWaabtW0K/RTucQS2F8JEwM4MbZ9Ty+NEs2z4mnIMMdOoxvhucfCoXLa+8NTEHMTIg4IC4GB9a13OGXPIZz4liSc4ON/wq3JR2RKTKLuqmWZZg4bxGYO0bHY/EfCd6xqAPKMgDcnIA64Iq0nZ66RvJIYwo2EeGW92Bv6fCo8VxSKpBBBIEQRAG2RPXYeRo7i4Q+DM0gGcg7/u5P7wOTvPy35PxFuRpAcSACARlv9MAQNvjU5QkF/BrgElSWJgYk7jI9IO1DvXrggI6npG2kEbARJ6+m9brfgSZC2uhgonAzgkwRMajuYzPnV8rpgwxkAxqLaYGdQ5H5VXawYZoExGrUffAJJjlnA5VE8OQDg6iok6jnIzkHpEflUtoaNXg7RZVZVKgjUQxgELE5EypMfLPmRuIRYbxIpWMAvuNhIjpEjnWdYW5zYnmfAIVeQJO/Klc4m62oG0Ah9yBAk7RiMx+Nc8oOTsfC2NGzx9kJbZipifFyaAPeUHkfvqzxPaguGPBACgzMhTHMHbPyPnWeVFwezFogFSQZEKQDqDEAR4pUH086wuOt8QFBZGUZAIAOF0kCeYOR6jlWMenUpcmTctzpuK7TTQVW6EUeEtlm9IAheXM77YmgogkFmDoCJEgnI3gAdRMf/mL2V2MJC3L63AQFdMxLTnUd4kZHnmtK+9sKOHDMFM5DMzTuNJGSBv6dIiq0Ri9MX9+yITn5NL21kPCaV88kTJAiRzBwCfurN4z28EqMafRYPu4mduQGx3rO4rgThywQyYi2SNgBMGTyEzjO9aHCW3kOGbSkDUFXxydwdckYjH0puCjvd/jZEsk3cX/AJAXeMZV0qAWYSSYgADUBAGSTBzJiKNpLots2wAY1HaYInQs7536R5UbjO0YHj4a4u4nGnHuyxwF3EciT61X4LsxXcOFaGhgTmMapIMDHKByzFFqtTVEJpvcFw3d+47Fgo0+Sr4RgeHmRtnyPKtfhuxPZJqYpp933donJBORAG/SmdL0Otu8ysGUqWCQ+4MtzGGxHzqjxnapLj2jKSkyQZLGNlaSMRt1qe5lm9qr15Nu5GEbSNOx2X7casIgySpGpo+WTykch50/anFcHZkFFkQTJYkY56TPSevnFYfF9vX1QIwIDAk40uTEzq2KbZHxrlOGvsFLEnxH3omZYZPXMgz1HWumOJzVtky6hKPy8ndnieHOfanYe6Tp25YpVwjcDfOQMfEfo0qrsw/m/sZfFfRGulxVyyiCRMkkgnmABg7+VWrARV9pBghhpwCszkEfH086VKnOO52IFctanGp8rEQDGScZ292tT2LW4uKROfCR70YznOZwaelSl4RS4KfEX7xbKALkSzbmMkKs5yd43qN5ZViFUySrLyIXB3GRI9YApUqm+KEtnQVbr27ahbSqpODqJbnMg4jw8utZz3rhbWHZQIX7MAmTjnGD05j1VKrjT3oF83Jq2DMFm5DGkSY3z0iahe4RQmtSkyTlDgkj+/KnpVm3TNPAS5YvNGVk81xAZiAPEM569ahd4xy4t3WIE6SqhQBAHQ5wPoKelRFKTqvBkyxwt9DpRWkxhwCpgghvuzM7UZWOsCA3hlGIWAykjUVilSrGSq/wG3sLiGDp7ODpP2p+yYJCbFJkZzv8Kz7tgJAc50iBvpwCkHn4cmfxpUqePaVImEdg/D8R7OWYDRpLifETpG4EeHE1ZbiIt6lsrpjXGCRsJJYSfTypUq2xwWoFsUf21SQgSBpBJHMNqmZYkTmM/lVjhjbuGTbIUb5B1MVOABECI6bUqVLMqTaE2ywnEASAHAJMDVuIIEAYEavLJ3NVT2khVbLAqxUxJ1TCievI74360qVKMFTf5lt0rGmAFX2eRCkBs6RsZg+c1o9m3AttReh9TC2pYAttzKgQMRvJ+dKlWOZbV9+TDPLTG0LiOLRXCraB94WxiRAEk6sRtjfFZ3DcSl+6tp9MqCRAbxNP2jjelSpRgtLl5SZlFssW+0La/wCWW0OpOshSSCIODkGhv2tcttJOm2DJaAdRMlSFXYasmcn72pVosUb33sWqWluw1/tC46L7LOqWVyFyPCuVbnJj+1V+G7Q4gHR7NZOdM+EnbaTGJECAZOM0qVVGEbcaN8KtKysvaF5ZJcQcsyqAQXIggcyDBmOoxNK9xF3UF/8Ac8KyzaRq06iCCMg+FjyifOlSq5QjHdImUEp0ilxf+a/tFC2zrhiASYMBTJbUWgAEkwcedWC1ptSCXaC2AEC+HIK7EyOR5ZJpUq0l/D+BeWCVLxQzoJ/y9YTkCZI6ySw5zT0qVc7luLsw9H//2Q==",
        description: " beautiful place to visit"
    },function(err, campground){
        if(err)
        {
            console.log(err);
        }
        else{
            console.log("Newly created campground: ");
            console.log(campground);
        }
    }
); */



app.get("/",function(req,res){
    res.render("landingPage");
});

app.get("/campgrounds",function(req,res){
    Campground.find({}, function(err, allCampgrounds){
        if(err)
        {
            console.log(err);
        }
        else
        {
            res.render("index",{campgrounds:allCampgrounds});
        }
    });
    //res.render("campgrounds",{campgrounds:campgrounds});
});


app.post("/campgrounds", function(req,res){
    var name = req.body.name;
    var image = req.body.image;
    var desc = req.body.description;
    var newCampground = {name:name,image:image,description:desc};
    //Create a new campground and saving it to db
    Campground.create(newCampground,function(err,newlyCampground)
    {
        if(err)
        {
            console.log(err);
        }
        else
        {
            res.redirect("/campgrounds");
        }
    });
    
});


app.get("/campgrounds/new",function(req,res){
    res.render("new.ejs");
});


app.get("/campgrounds/:id", function(req, res){
    Campground.findById(req.params.id, function(err, foundCampground)
    {
        if(err){
            console.log(err);
        }
        else{
            res.render("show", {campground: foundCampground});
        }
    });
});


app.listen(3000,function(){
    console.log("Server started");
});